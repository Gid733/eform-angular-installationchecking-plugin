<subheader-pn [title]="'Installations' | translate">
  <div class="p-3">
    <button *ngIf="pluginClaimsHelper.check(installationCheckingPnClaims.createInstallations)"
            id="installationCreateBtn"
            class="btn btn-success"
            mdbTooltip="{{ 'Create installation' | translate }}"
            (click)="showNewInstallationModal()">{{ 'New installation' | translate }}
    </button>
  </div>
</subheader-pn>

<div class="container-fluid">
  <div class="row pl-1">
    <div class="col-md-2">
      <div class="md-form">
        <input mdbInputDirective [mdbValidate]="false"
               type="text" (input)="onSearchInputChanged($event)"
               class="form-control input-sm" id="searchInput">
        <label for="searchInput">{{'Search' | translate}}</label>
      </div>
    </div>
  </div>
  <div class="container-fluid">
    <div class="row p-1 mt-4 table-responsive no-gutters">
      <table class="table table-sm table-striped text-center z-depth-1">
        <thead>
        <tr>
          <th scope="col" class="table-header-sortable" id="idSort"
              (click)="sortTable('Id')">
            <div class="d-flex align-items-center justify-content-center">
              ID
              <i class="material-icons text-black-50"
                 *ngIf="installationsRequestModel.sort != 'Id'">unfold_more</i>
              <i class="material-icons"
                 *ngIf="installationsRequestModel.sort == 'Id' && !installationsRequestModel.isSortDsc">
                expand_less</i>
              <i class="material-icons"
                 *ngIf="installationsRequestModel.sort == 'Id' && installationsRequestModel.isSortDsc">expand_more</i>
            </div>
          </th>
          <th scope="col">
            {{ 'Actions' | translate }}
          </th>
        </tr>
        </thead>
        <tbody id="tableBody">
        <tr *ngFor="let installation of installationsListModel?.installations">
          <td id="installationId">
            {{installation.id}}
          </td>
          <td>
            <div class="d-flex flex-row justify-content-center">
              <button class="btn btn-accent text-black-50 btn-icon mb-2"
                      mdbTooltip="{{ 'Assign installation' | translate }}"
                      id="installationEditBtn"
                      (click)="showAssignInstallationModal(installation.id)">
                <i class="material-icons">
                  edit
                </i>
              </button>
            </div>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div class="row justify-content-between mr-2 ml-2">

    <div class="col-md-1">
      <page-size-pn
        [pageSize]="localPageSettings.pageSize"
        (onPageSizeChanged)="localPageSettings.pageSize = $event; installationsRequestModel.offset = 0;
        updateLocalPageSettings()">
      </page-size-pn>
    </div>
    <pagination-pn *ngIf="installationsListModel?.total > installationsRequestModel.pageSize"
                   [limit]="installationsRequestModel.pageSize"
                   [size]="installationsListModel.total"
                   [offset]="installationsRequestModel.offset"
                   (onPageChanged)="changePage($event)"></pagination-pn>
  </div>
</div>

<spinner-pn [spinnerVisibility]="spinnerStatus"></spinner-pn>

